import{a as B,B as b,b as y,c as h,g as I,F as P,d as S,e as c,h as T}from"./b-input-field.3d31c11b.js";import{a as g}from"./index.7aabc4d6.js";import{B as x}from"./b-brand.fb61b7ba.js";import{_ as C,a as s,o as N,c as F,b as t,f as a,P as i,m as R,t as k}from"./index.74972bd6.js";const q={name:"PassRecoveryTwo",components:{BBrand:x,BButton:B,BContainer:b,BInput:y,BInputField:h,BText:I,Form:P},props:{token:{type:String,required:!0}},setup(d){function p(){i.dispatch("update",d.token)}function m(){const o=document.querySelector(".pass-recovery-two__submit-button");o.classList.add("invalid"),setTimeout(()=>{o.classList.remove("invalid")},1e3)}function e(o){i.commit("updateNewPassword",o.target.value)}function u(o){i.commit("updateConfirmPassword",o.target.value)}function _(){return this.transform((o,n)=>/\s/.test(n)?NaN:o)}g(c,"noWhitespace",_);const r=S().shape({password:c().min(6).trim().noWhitespace().required(),confirmPassword:c().oneOf([T("password")],"passwords do not match")});return{onSubmit:p,onInvalidSubmit:m,updateNewPassword:e,updateConfirmPassword:u,schema:r}}},W={class:"pass-recovery-two"};function L(d,p,m,e,u,_){const r=s("BBrand"),o=s("BInput"),n=s("BInputField"),l=s("BText"),w=s("BButton"),f=s("Form"),v=s("BContainer");return N(),F("div",W,[t(r),t(v,{color:"gray-30"},{default:a(()=>[t(f,{class:"pass-recovery-two__form","validation-schema":e.schema,onSubmit:e.onSubmit,onInvalidSubmit:e.onInvalidSubmit},{default:a(()=>[t(n,{label:"New password",name:"password"},{default:a(()=>[t(o,{name:"password",type:"password",onInput:e.updateNewPassword},null,8,["onInput"])]),_:1}),t(n,{label:"Confirm new password",name:"confirmPassword"},{default:a(()=>[t(o,{name:"confirmPassword",type:"password",onInput:e.updateConfirmPassword},null,8,["onInput"])]),_:1}),t(l,{class:"error",size:"small",tag:"div"},{default:a(()=>[R(k(this.$store.state.passRecoveryTwo.errorMessage),1)]),_:1}),t(w,{class:"pass-recovery-two__submit-button",type:"submit",value:"update"})]),_:1},8,["validation-schema","onSubmit","onInvalidSubmit"])]),_:1})])}var D=C(q,[["render",L],["__scopeId","data-v-5cf7e0a4"]]);export{D as default};
