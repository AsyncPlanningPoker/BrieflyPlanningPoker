import{_ as y,r as A,a as x,o as s,c as u,n as Y,w as G,v as K,b as e,d as T,e as r,f as i,g as Z,u as I,h as D,i as b,j as v,F as B,k as j,p as ne,l as oe,m as p,t as g,q as ie,s as O,x as de}from"./index.74972bd6.js";import{s as le,B as ce,a as k,b as S,c as q,F as C,d as z,e as F,f as X,g as f}from"./b-input-field.3d31c11b.js";var re="data:image/png;base64,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";const ue={name:"BDivisor",props:{button:{type:Boolean,default:!1},color:{type:String,default:"black",validator:le(["primary","white","gray-10","gray-20","gray-30","black"])}}},_e=Object.assign(ue,{emits:["action"],setup(t,{emit:n}){const a=A(!1),c=()=>{a.value=!a.value,n("action")};return(d,l)=>{const o=x("font-awesome-icon");return s(),u("div",{class:Y(["b-divisor",`b-divisor--${t.color}`])},[t.button?(s(),u("div",{key:0,class:Y(["b-divisor__button",`b-divisor__button--${t.color}`]),onClick:c},[G(e(o,{icon:"fa-solid fa-circle-chevron-down"},null,512),[[K,!a.value]]),G(e(o,{icon:"fa-solid fa-circle-chevron-up"},null,512),[[K,a.value]])],2)):T("",!0)],2)}}});var U=y(_e,[["__scopeId","data-v-6ad88042"]]);const me={name:"BModal",components:{BContainer:ce},props:{open:{type:Boolean,required:!0},color:{type:String,required:!1}}},ve={key:0,class:"b-modal__external"},pe={class:"b-modal"};function fe(t,n,a,c,d,l){const o=x("BContainer");return a.open?(s(),u("div",ve,[r("div",pe,[e(o,{color:a.color},{default:i(()=>[Z(t.$slots,"default",{},void 0,!0)]),_:3},8,["color"])])])):T("",!0)}var $=y(me,[["render",fe],["__scopeId","data-v-3242df34"]]);const be={class:"f-squad__buttons-container"},he={class:"f-squad__buttons-container"},ge={name:"FSquad",components:{BButton:k,BInput:S,BInputField:q,Form:C}},ke=Object.assign(ge,{props:{update:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:n}){const a=t,c=I(),d=D(()=>c.getters.getSquadActive);function l(m){const h={name:m.squadName,currentMaxRounds:m.maxRounds,currentPercentual:m.percentual};a.update?c.dispatch("updateSquad",h):c.dispatch("addSquad",h),n("close")}function o(){const m=document.querySelector(".f-squad__button");m.classList.add("invalid"),setTimeout(()=>{m.classList.remove("invalid")},1e3)}const _=z().shape({squadName:F().max(25).required(),maxRounds:X().typeError("maxRounds must be a number").required().integer().min(1),percentual:X().typeError("percentual must be a number").required().positive().min(0).max(1).test(m=>Number.isInteger(m*10**2))});return(m,h)=>t.update?(s(),b(v(C),{key:1,class:"f-squad","validation-schema":v(_),onSubmit:l,onInvalidSubmit:o},{default:i(()=>[e(q,{label:"Squad name",name:"squadName",initial:v(d).squad},{default:i(()=>[e(S,{name:"squadName",type:"text",value:v(d).squad},null,8,["value"])]),_:1},8,["initial"]),e(q,{label:"Max rounds",name:"maxRounds",initial:v(d).currentMaxRounds},{default:i(()=>[e(S,{name:"maxRounds",type:"number",value:v(d).currentMaxRounds},null,8,["value"])]),_:1},8,["initial"]),e(q,{label:"Percentual",name:"percentual",initial:v(d).currentPercentual},{default:i(()=>[e(S,{name:"percentual",max:1,min:0,placeholder:"0.25",step:.1,type:"number",value:v(d).currentPercentual},null,8,["step","value"])]),_:1},8,["initial"]),r("div",he,[e(k,{variant:"transparent",value:"cancel",onClick:h[1]||(h[1]=L=>m.$emit("close"))}),e(k,{class:"f-squad__button",type:"submit",value:"update"})])]),_:1},8,["validation-schema"])):(s(),b(v(C),{key:0,class:"f-squad","validation-schema":v(_),onSubmit:l,onInvalidSubmit:o},{default:i(()=>[e(q,{label:"Squad name",name:"squadName"},{default:i(()=>[e(S,{name:"squadName",placeholder:"Name",type:"text"})]),_:1}),e(q,{label:"Max rounds",name:"maxRounds"},{default:i(()=>[e(S,{name:"maxRounds",placeholder:"3",type:"number"})]),_:1}),e(q,{label:"Percentual",name:"percentual"},{default:i(()=>[e(S,{name:"percentual",max:1,min:0,placeholder:"0.25",step:.1,type:"number"},null,8,["step"])]),_:1}),r("div",be,[e(k,{variant:"transparent",value:"cancel",onClick:h[0]||(h[0]=L=>m.$emit("close"))}),e(k,{class:"f-squad__button",type:"submit",value:"create"})])]),_:1},8,["validation-schema"]))}});var R=y(ke,[["__scopeId","data-v-24de6777"]]);const ye=t=>(ne("data-v-100fadee"),t=t(),oe(),t),qe={class:"b-sidebar"},we={class:"b-sidebar__logo-wrapper"},xe=ye(()=>r("img",{class:"b-sidebar__image",src:re,alt:"brand-logo"},null,-1)),Se=[xe],Be={class:"b-sidebar__new-squad-wrapper"},Ae={class:"b-sidebar__squad-wrapper"},Ce={name:"BSidebar",components:{BButton:k,BDivisor:U,BModal:$,FSquad:R}},$e=Object.assign(Ce,{setup(t){const n=I(),a=D(()=>n.getters.getSquadList),c=A(!1),d=()=>{c.value=!c.value};return(l,o)=>(s(),u("div",qe,[r("div",we,[r("a",{onClick:o[0]||(o[0]=_=>v(n).dispatch("addSquadActive",{}))},Se)]),e(U,{color:"gray-30"}),r("div",Be,[e(k,{size:"small",value:"+",onClick:d}),e($,{color:"gray-30",open:c.value},{default:i(()=>[e(R,{onClose:d})]),_:1},8,["open"])]),e(U,{color:"gray-30"}),r("div",Ae,[(s(!0),u(B,null,j(v(a).slice().reverse(),(_,m)=>(s(),u("div",{key:m,class:"b-sidebar__squad"},[e(k,{size:"small",variant:"transparent",value:`${m+1}`,onClick:h=>v(n).dispatch("gatherSquad",_.id)},null,8,["value","onClick"])]))),128))])]))}});var V=y($e,[["__scopeId","data-v-100fadee"]]);const Ie={name:"BBadge",components:{BText:f},emits:["action"]},Te={class:"b-badge"};function De(t,n,a,c,d,l){const o=x("BText"),_=x("font-awesome-icon");return s(),u("div",Te,[e(o,{color:"white",size:"medium"},{default:i(()=>[Z(t.$slots,"default",{},void 0,!0)]),_:3}),e(_,{class:"b-badge__xmark",icon:"fa-solid fa-xmark",onClick:n[0]||(n[0]=m=>t.$emit("action"))})])}var H=y(Ie,[["render",De],["__scopeId","data-v-0d1bc6da"]]);const Le={class:"f-add-user__input-wrapper"},Me={class:"f-add-user__button-wrapper"},Ue={name:"FAddUser",components:{BButton:k,BInput:S,BInputField:q,Form:C}},Ne=Object.assign(Ue,{setup(t){const n=I();function a(l){n.dispatch("addUser",l.email);const o=document.querySelector(".f-add-user__button");o.classList.add("valid"),setTimeout(()=>{o.classList.remove("valid")},1e3)}function c(){const l=document.querySelector(".f-add-user__button");l.classList.add("invalid"),setTimeout(()=>{l.classList.remove("invalid")},1e3)}const d=z().shape({email:F().email("this e-mail does not seem valid").required()});return(l,o)=>(s(),b(v(C),{class:"f-add-user","validation-schema":v(d),onSubmit:a,onInvalidSubmit:c},{default:i(()=>[r("div",Le,[e(q,{label:"Partner's e-mail",name:"email"},{default:i(()=>[e(S,{name:"email",placeholder:"fellow-worker@briefly.com",type:"email"})]),_:1})]),r("div",Me,[e(k,{class:"f-add-user__button",size:"small",type:"submit",value:"send"})])]),_:1},8,["validation-schema"]))}});var Q=y(Ne,[["__scopeId","data-v-edc29396"]]);const je={class:"f-leave"},Fe=p(" Are you sure you want to leave the squad? "),Ee={class:"f-leave__buttons-container"},Ye={name:"FLeave",components:{BButton:k,BText:f}},ze=Object.assign(Ye,{props:{email:String},emits:["close"],setup(t,{emit:n}){const a=t,c=I();function d(){a.email?c.dispatch("delUser",a.email):c.dispatch("delYourself"),n("close")}return(l,o)=>(s(),u("div",je,[this.email?(s(),b(f,{key:0,align:"left",type:"p",size:"large"},{default:i(()=>[p(" Are you sure you want to remove "+g(this.email)+" from the squad? ",1)]),_:1})):(s(),b(f,{key:1,align:"left",type:"p",size:"large"},{default:i(()=>[Fe]),_:1})),r("div",Ee,[e(k,{variant:"transparent",value:"no",onClick:o[0]||(o[0]=_=>l.$emit("close"))}),e(k,{value:"yes",onClick:d})])]))}});var J=y(ze,[["__scopeId","data-v-7c046703"]]);const Re={class:"b-squad"},Oe={class:"b-squad__container"},Pe={class:"b-squad__name"},Ge={class:"b-squad__info"},Ke={class:"b-squad__max-rounds"},Xe={class:"b-squad__percentual"},Ze=p(" Sair "),Ve={key:0},He={class:"b-squad__users-container"},Qe={name:"BSquad",components:{BBadge:H,BDivisor:U,BInput:S,BModal:$,BText:f,FAddUser:Q,FLeave:J,FSquad:R},props:{squad:{type:Object,required:!0}}},Je=Object.assign(Qe,{setup(t){const n=I(),a=D(()=>n.getters.getUserEmail),c=A(!1),d=()=>{c.value=!c.value},l=A(!1),o=()=>{l.value=!l.value},_=A(String),m=A(!1),h=L=>{_.value=L,m.value=!m.value};return(L,w)=>{const N=x("font-awesome-icon");return s(),u(B,null,[r("div",Re,[r("div",Oe,[r("div",Pe,[e(f,{class:"b-squad__title",color:"white",size:"giant",onClick:o},{default:i(()=>[p(g(t.squad.squad),1)]),_:1})]),e(U,{class:"b-squad__divisor",color:"black"}),r("div",Ge,[r("div",Ke,[e(N,{class:"b-squad__icon",icon:"fa-solid fa-arrow-rotate-right"}),e(f,{color:"white",size:"giant"},{default:i(()=>[p(g(t.squad.currentMaxRounds),1)]),_:1})]),r("div",Xe,[e(N,{class:"b-squad__icon",icon:"fa-solid fa-user-check"}),e(f,{color:"white",size:"giant"},{default:i(()=>[p(g(t.squad.currentPercentual),1)]),_:1})]),r("div",{class:"b-squad__leave",onClick:w[0]||(w[0]=M=>h(""))},[e(N,{class:"b-squad__icon",icon:"fa-solid fa-right-from-bracket"}),e(f,{color:"white",size:"giant"},{default:i(()=>[Ze]),_:1})])])]),c.value?(s(),u("div",Ve,[e(Q),r("div",He,[(s(!0),u(B,null,j(t.squad.users.filter(M=>M.email!==v(a)),(M,se)=>(s(),b(H,{key:se,onAction:Xt=>h(M.email)},{default:i(()=>[p(g(M.email),1)]),_:2},1032,["onAction"]))),128))])])):T("",!0),t.squad.squad?(s(),b(U,{key:1,button:!0,color:"primary",onAction:d})):T("",!0)]),e($,{color:"gray-30",open:l.value},{default:i(()=>[e(R,{update:!0,onClose:o})]),_:1},8,["open"]),e($,{color:"gray-30",open:m.value},{default:i(()=>[e(J,{email:_.value,onClose:w[1]||(w[1]=M=>h(""))},null,8,["email"])]),_:1},8,["open"])],64)}}});var W=y(Je,[["__scopeId","data-v-26d8c953"]]);const We={name:"BCard",components:{BText:f},props:{active:{type:Boolean,default:!0},value:{type:Number,default:"?"}}};function et(t,n,a,c,d,l){const o=x("BText");return s(),u("button",{class:Y(["b-card",a.active?"b-card--active":"b-card--disabled"])},[e(o,{align:"center",size:"giant"},{default:i(()=>[p(g(a.value),1)]),_:1})],2)}var tt=y(We,[["render",et],["__scopeId","data-v-19fc0f8d"]]);const at={name:"BComment",components:{BText:f},props:{author:{type:String,required:!0},date:{type:String,required:!0},type:{type:String,required:!0},content:{type:[String,Number],required:!0},hidden:{type:Boolean,default:!1}}},st={class:"b-comment"},nt=p(" voted in the current round. "),ot=p(" commented in the current round. ");function it(t,n,a,c,d,l){const o=x("BText");return s(),u("div",st,[a.type=="vote"?(s(),u(B,{key:0},[e(o,{align:"left",color:"primary",size:"medium"},{default:i(()=>[p(g(`[${a.date}] `)+" "+g(a.author),1)]),_:1}),a.hidden?(s(),b(o,{key:1,align:"left",color:"primary",size:"medium"},{default:i(()=>[nt]),_:1})):(s(),b(o,{key:0,align:"left",color:"primary",size:"medium"},{default:i(()=>[p(g(` voted ${a.content}`),1)]),_:1}))],64)):(s(),u(B,{key:1},[e(o,{align:"left",color:"primary",size:"medium"},{default:i(()=>[p(g(`[${a.date}] `)+" "+g(a.author)+": ",1)]),_:1}),a.hidden?(s(),b(o,{key:1,align:"left",color:"primary",size:"medium"},{default:i(()=>[ot]),_:1})):(s(),b(o,{key:0,align:"left",color:"gray-20",size:"medium"},{default:i(()=>[p(g(a.content),1)]),_:1}))],64))])}var dt=y(at,[["render",it],["__scopeId","data-v-4ea17bca"]]);const lt={name:"BTextArea",props:{name:{type:String,required:!0},placeholder:{type:String},row:{type:Number}}},ct={class:"b-text-area__wrapper"},rt=["id","name","placeholder","row"];function ut(t,n,a,c,d,l){return s(),u("div",ct,[r("textarea",{class:"b-text-area",id:a.name,name:a.name,placeholder:a.placeholder,row:a.row},null,8,rt)])}var E=y(lt,[["render",ut],["__scopeId","data-v-591eb1f0"]]);const _t={name:"FAddComment",components:{BInputField:q,BTextArea:E,Form:C},methods:{onKeyup(t){this.$refs.form.$el.dispatchEvent(new Event("submit",{cancelable:!0}))}}},mt=Object.assign(_t,{emits:["comment"],setup(t,{emit:n}){function a(){n("comment",addComment.value),addComment.value=null,addComment.blur()}const c=z().shape({addComment:F().max(180).trim().required()});return(d,l)=>(s(),b(v(C),{ref:"form","validation-schema":v(c),onSubmit:a},{default:i(()=>[e(q,{color:"gray-30",label:"Write a comment",name:"addComment"},{default:i(()=>[e(E,{name:"addComment",type:"text",onKeyup:ie(d.onKeyup,["enter"])},null,8,["onKeyup"])]),_:1})]),_:1},8,["validation-schema"]))}});const vt={name:"BTaskExpanded",components:{BButton:k,BCard:tt,BComment:dt,BInputField:q,BText:f,BTextArea:E,FAddComment:mt},props:{taskId:{type:String,required:!0},squadId:{type:String,required:!0}},data(){return{task:{},fibonacci:[1,2,3,5,8,13],votable:!0,finished:!1}},computed:{userEmail(){return I().getters.getUserEmail},formatDate(){return t=>new Date(t).toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo",day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}},methods:{async vote(t){this.votable&&(await O.post(`/squad/${this.squadId}/task/${this.taskId}/vote`,{points:t}).then(console.log("success!")).catch(n=>{console.log(n.response.data.message)}),this.load())},async comment(t){await O.post(`/squad/${this.squadId}/task/${this.taskId}/message`,{message:`${t}`}).then(console.log("success!")).catch(n=>{console.log(n.response.data.message)}),this.load()},async load(){await O.get(`/squad/${this.squadId}/task/${this.taskId}`).then(n=>{this.task=n.data,this.finished=!this.task.finished,this.task.actions.every(a=>this.votable=this.eligible(a))}).catch(n=>{console.log(n.response.data.message)});const t=document.getElementById("comment-box");t.scroll({top:t.scrollHeight,behavior:"smooth"})},eligible(t){return!(t.type=="vote"&&t.currentRound==!0&&t.email==this.userEmail)}},mounted(){this.userEmail,this.load()}},pt={class:"b-task-expanded"},ft={class:"b-task-expanded__leave-wrapper"},bt={id:"comment-box",class:"b-task-expanded__wrapper b-task-expanded__comments"},ht={key:0,class:"b-task-expanded__wrapper"},gt={key:1,class:"b-task-expanded__wrapper"},kt={class:"b-task-expanded__card-container"};function yt(t,n,a,c,d,l){const o=x("BButton"),_=x("BText"),m=x("BComment"),h=x("FAddComment"),L=x("BCard");return s(),u("div",pt,[r("div",ft,[e(o,{size:"small",variant:"inverted",value:"x",onClick:n[0]||(n[0]=w=>t.$emit("close"))})]),e(_,{align:"center",class:"b-task-expanded__title",color:"black",size:"giant",tag:"h1"},{default:i(()=>[p(g(d.task.task),1)]),_:1}),e(_,{align:"left",class:"b-task-expanded__wrapper",color:"gray-30",size:"medium"},{default:i(()=>[p(g(d.task.description),1)]),_:1}),r("div",bt,[(s(!0),u(B,null,j(d.task.actions,(w,N)=>(s(),b(m,{author:w.user,content:w.content,date:l.formatDate(w.date),type:w.type,hidden:w.currentRound},null,8,["author","content","date","type","hidden"]))),256))]),d.finished?(s(),u("div",ht,[e(h,{onComment:l.comment},null,8,["onComment"])])):T("",!0),d.finished?(s(),u("div",gt,[r("div",kt,[(s(!0),u(B,null,j(d.fibonacci,w=>(s(),b(L,{active:d.votable,value:w,onClick:N=>l.vote(w)},null,8,["active","value","onClick"]))),256))])])):T("",!0)])}var ee=y(vt,[["render",yt],["__scopeId","data-v-5ae4dd05"]]);const qt={class:"b-task__name-wrapper"},wt={class:"b-task__info-wrapper"},xt={key:0,class:"b-task__round"},St={key:1,class:"b-task__round"},Bt={class:"b-task__buttons"},At={name:"BTask",components:{BModal:$,BTaskExpanded:ee,BText:f},props:{task:{type:Object,required:!0},active:{type:Boolean,default:!0}}},Ct=Object.assign(At,{setup(t){const n=I(),a=D(()=>n.getters.getActiveId),c=A(!1),d=A(null);function l(o,_){d.value=o,_&&n.dispatch("gatherTasks",a.value),c.value=!c.value}return(o,_)=>{const m=x("font-awesome-icon");return s(),u(B,null,[r("div",{class:Y(["b-task",t.active?"b-task--active":"b-task--archived"])},[r("div",qt,[e(f,{align:"left",class:"b-task__name",size:"medium",tag:"strong",onClick:_[0]||(_[0]=h=>l(t.task.task,!1))},{default:i(()=>[p(g(t.task.name),1)]),_:1})]),r("div",wt,[t.task.finished?(s(),u("div",xt,[t.task.points?(s(),b(m,{key:0,class:"b-task__icon",icon:"fa-solid fa-circle-check"})):(s(),b(m,{key:1,class:"b-task__icon",icon:"fa-solid fa-circle-xmark"})),e(f,{align:"right",size:"large",tag:"p"},{default:i(()=>[p(g(t.task.points?`${t.task.points} ${t.task.points>1?"points":"point"}`:"incomplete"),1)]),_:1})])):(s(),u("div",St,[e(m,{class:"b-task__icon",icon:"fa-solid fa-arrow-rotate-right"}),e(f,{align:"right",size:"large",tag:"p"},{default:i(()=>[p(g(`${t.task.currentRound||1} / ${t.task.maxRounds}`),1)]),_:1})])),r("div",Bt,[t.active?(s(),b(m,{key:0,class:"b-task__icon",icon:"fa-solid fa-square-caret-down",onClick:_[1]||(_[1]=h=>v(n).dispatch("disableTask",t.task.task))})):T("",!0),e(m,{class:"b-task__icon",icon:"fa-solid fa-trash-can",onClick:_[2]||(_[2]=h=>v(n).dispatch("deleteTask",t.task.task))})])])],2),e($,{color:"gray-10",open:c.value},{default:i(()=>[e(ee,{taskId:d.value,squadId:v(a),onClose:_[3]||(_[3]=h=>l(d.value,!0))},null,8,["taskId","squadId"])]),_:1},8,["open"])],64)}}});var te=y(Ct,[["__scopeId","data-v-dbe950d0"]]);const $t={class:"f-task__buttons-container"},It={name:"FTask",components:{BButton:k,BInput:S,BInputField:q,BTextArea:E,Form:C}},Tt=Object.assign(It,{emits:["close"],setup(t,{emit:n}){const a=I();function c(o){const _={name:o.taskTitle,description:o.taskDescription};a.dispatch("addTask",_),n("close")}function d(){const o=document.querySelector(".f-task__button");o.classList.add("invalid"),setTimeout(()=>{o.classList.remove("invalid")},1e3)}const l=z().shape({taskTitle:F().max(85).required(),taskDescription:F().max(300)});return(o,_)=>(s(),b(v(C),{class:"f-task","validation-schema":v(l),onSubmit:c,onInvalidSubmit:d},{default:i(()=>[e(q,{label:"Task title",name:"taskTitle"},{default:i(()=>[e(S,{name:"taskTitle",placeholder:"Title",type:"text"})]),_:1}),e(q,{label:"Task description",name:"taskDescription"},{default:i(()=>[e(E,{name:"taskDescription",placeholder:"Description (optional)"})]),_:1}),r("div",$t,[e(k,{variant:"transparent",value:"cancel",onClick:_[0]||(_[0]=m=>o.$emit("close"))}),e(k,{class:"f-task__button",type:"submit",value:"create"})])]),_:1},8,["validation-schema"]))}});var ae=y(Tt,[["__scopeId","data-v-10f5b8ec"]]);const Dt=p(" create new task "),Lt={key:1,class:"b-task-container__wrapper"},Mt={key:2,class:"b-task-container__empty"},Ut=p(" there are no tasks here (\u2299\uFE3F\u2299 \u273F) "),Nt={name:"BTaskContainer",components:{BModal:$,BTask:te,BText:f,FTask:ae},props:{title:{type:String,required:!0},active:{type:Boolean,required:!0},tasks:{type:Array,required:!0}}},jt=Object.assign(Nt,{setup(t){const n=A(!1),a=()=>{n.value=!n.value};return(c,d)=>(s(),u(B,null,[e(f,{align:"left",color:"white",size:"giant",tag:"h1"},{default:i(()=>[p(g(t.title),1)]),_:1}),t.active?(s(),b(f,{key:0,align:"left",class:"b-task-container__link",color:"link",size:"medium",tag:"span",onClick:a},{default:i(()=>[Dt]),_:1})):T("",!0),t.tasks.length>0?(s(),u("div",Lt,[(s(!0),u(B,null,j(t.tasks,(l,o)=>(s(),b(te,{task:l,active:t.active},null,8,["task","active"]))),256))])):(s(),u("div",Mt,[e(f,{align:"center",color:"gray-20",size:"large",tag:"p"},{default:i(()=>[Ut]),_:1})])),e($,{color:"gray-20",open:n.value},{default:i(()=>[e(ae,{onClose:a})]),_:1},8,["open"])],64))}});var P=y(jt,[["__scopeId","data-v-1763ef24"]]);const Ft={class:"home"},Et={key:0},Yt={class:"home__section"},zt={class:"home__section"},Rt={class:"home__section"},Ot={key:1,class:"home__blank"},Pt=p(" Hey, welcome! Let's poker... (\u256F\xB0\u25A1\xB0)\u256F\uFE35 \u253B\u2501\u253B "),Gt={name:"Home",components:{BSidebar:V,BSquad:W,BTaskContainer:P,BText:f}},Kt=Object.assign(Gt,{setup(t){const n=I(),a=D(()=>{const l=n.getters.getSquadActive;return l.id&&n.dispatch("gatherTasks",l.id),l}),c=D(()=>n.getters.getEnabledTasks),d=D(()=>n.getters.getDisabledTasks);return de(n.dispatch("gatherSquadList")),(l,o)=>(s(),u("div",Ft,[r("aside",null,[e(V)]),v(a).squad?(s(),u("main",Et,[r("div",Yt,[e(W,{squad:v(a)},null,8,["squad"])]),r("div",zt,[e(P,{title:"Active",active:!0,tasks:v(c)},null,8,["tasks"])]),r("div",Rt,[e(P,{title:"Archived",active:!1,tasks:v(d)},null,8,["tasks"])])])):(s(),u("main",Ot,[e(f,{color:"gray-30",size:"giant"},{default:i(()=>[Pt]),_:1})]))]))}});var Ht=y(Kt,[["__scopeId","data-v-f5300afa"]]);export{Ht as default};
