import{a as v,B as I,b,c as h,g as w,F as y,d as S,e as l}from"./b-input-field.3d31c11b.js";import{a as x}from"./index.7aabc4d6.js";import{B as F}from"./b-brand.fb61b7ba.js";import{_ as C,a as e,o as P,c as T,b as t,f as o,P as c,m as k,t as E}from"./index.74972bd6.js";const N={name:"SignIn",components:{BBrand:F,BButton:v,BContainer:I,BInput:b,BInputField:h,BText:w,Form:y},setup(){function r(){c.dispatch("login")}function s(){const n=document.querySelector(".sign-in__login-button");n.classList.add("invalid"),setTimeout(()=>{n.classList.remove("invalid")},1e3)}function m(n){c.commit("updateEmail",n.target.value)}function a(n){c.commit("updatePassword",n.target.value)}function u(){return this.transform((n,i)=>/\s/.test(i)?NaN:n)}x(l,"noWhitespace",u);const d=S().shape({email:l().email().required(),password:l().min(6).trim().noWhitespace().required()});return{onSubmit:r,onInvalidSubmit:s,updateEmail:m,updatePassword:a,schema:d}}},q={class:"sign-in"};function W(r,s,m,a,u,d){const n=e("BBrand"),i=e("BInput"),p=e("BInputField"),f=e("BText"),_=e("BButton"),g=e("Form"),B=e("BContainer");return P(),T("div",q,[t(n),t(B,{color:"gray-30"},{default:o(()=>[t(g,{class:"sign-in__form","validation-schema":a.schema,onSubmit:a.onSubmit,onInvalidSubmit:a.onInvalidSubmit},{default:o(()=>[t(p,{label:"E-mail",name:"email"},{default:o(()=>[t(i,{name:"email",type:"email",onInput:a.updateEmail},null,8,["onInput"])]),_:1}),t(p,{label:"Password",link:"/password_reset","link-label":"forgot password?",name:"password"},{default:o(()=>[t(i,{name:"password",type:"password",onInput:a.updatePassword},null,8,["onInput"])]),_:1}),t(f,{class:"error",size:"small",tag:"div"},{default:o(()=>[k(E(this.$store.state.signIn.errorMessage),1)]),_:1}),t(_,{class:"sign-in__login-button",type:"submit",value:"login"})]),_:1},8,["validation-schema","onSubmit","onInvalidSubmit"])]),_:1}),t(B,{color:"gray-30"},{default:o(()=>[t(_,{class:"sign-in__registry-button",size:"small",value:"create an account",onClick:s[0]||(s[0]=$=>r.$router.push("signup"))})]),_:1})])}var D=C(N,[["render",W],["__scopeId","data-v-02fdc532"]]);export{D as default};
